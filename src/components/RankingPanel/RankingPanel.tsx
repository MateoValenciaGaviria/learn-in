import React, { useEffect, useState } from 'react';
import { RankingType } from '../../utils/types/RankingType';
import { DATABASE } from "../../utils/firebase";
import { doc, setDoc } from 'firebase/firestore/lite';

const ranksColors = {
  bronze: "#B16F32",
  silver: "#90A6B8",
  gold: "#FEC701",
  platinum: "#1BC7CE",
  emerald: "#7ACC01",
  diamond: "#38B2EC",
  redDiamond: "#EC3838"
};

var localTopRanks: RankingType[] = [
  {
    id: "",
    course: "",
    points: 0,
    rank: "",
    rankId: 0
  },
  {
    id: "",
    course: "",
    points: 0,
    rank: "",
    rankId: 0
  },
  {
    id: "",
    course: "",
    points: 0,
    rank: "",
    rankId: 0
  },
];

var currentTopRanks: RankingType[] = [];
var currentRanks: RankingType[] = [];

interface RankingPanelProps {
  rankList: RankingType[]
}

export const RankingPanel: React.FC<RankingPanelProps> = ({ rankList }) => {

  var rank1 = "#B7B7B7";
  var rank2 = "#B7B7B7";
  var rank3 = "#B7B7B7";

  const [topRanks, setTopRanks] = useState<RankingType[]>(localTopRanks);

  const handleLoadRanks = () => {
    currentRanks = [];
    currentTopRanks = [];
    loadCurrentRanks();
    updateTopRanks();
    localTopRanks = currentTopRanks;
  }

  const loadCurrentRanks = () => {
    Object.keys(rankList).map((key: any) => {
      const value = rankList[key]
      const temporalRank: RankingType = {
        id: value.id,
        course: value.course,
        points: value.points,
        rank: value.rank,
        rankId: value.rankId
      }
      currentRanks.push(temporalRank);
    });
  }

  const getTopRank = () => {

    var maxRankId: number = 0;
    var maxPpoints: number = 0;
    var index: number = 0;

    for (let i = 0; i < currentRanks.length; i++) {

      if (currentRanks[i].rankId >= maxRankId) {
        maxRankId = currentRanks[i].rankId;
        maxPpoints = currentRanks[i].points;
        index = i;
        if (currentRanks[i].points >= maxPpoints) {
          maxRankId = currentRanks[i].rankId;
          maxPpoints = currentRanks[i].points;
          index = i;
        }
      }

    }

    currentTopRanks.push(currentRanks[index]);
    currentRanks.splice(index, 1);

  }

  const updateTopRanks = () => {
    for (let i = 0; i < 3; i++) {
      getTopRank();
    }
  }

  useEffect(() => { handleLoadRanks() }, []);
  useEffect(() => { setTopRanks(localTopRanks) }, [localTopRanks]);

  return (
    <div className="ranking-panel">
      <h4 className="ranking-panel__title">Ranking</h4>
      <div className="ranking-panel__ranks-container">
        <div className="ranking-panel__rank">
          <div className="ranking-panel__rank-icon">
            <div className="ranking-panel__rank-medal-container">
              <svg width="85" height="142" viewBox="0 0 85 142" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path className={"ranking-panel__rank-color--" + topRanks[1].rankId} d="M6.68677 39.4662V9.47008C6.68677 6.36719 9.20215 3.85181 12.305 3.85181H71.7134C74.8163 3.85181 77.3317 6.3672 77.3317 9.47009V39.4796C77.3317 41.4543 76.295 43.2841 74.6011 44.299L45.0304 62.017C43.2589 63.0784 41.0479 63.0824 39.2726 62.0274L9.43487 44.296C7.73105 43.2835 6.68677 41.4481 6.68677 39.4662Z" fill={rank2} />
                <rect x="29.9443" y="5.74146" width="24.1297" height="52.6203" fill="#F1F2F2" />
                <g style={{ mixBlendMode: "soft-light" }} opacity="0.8">
                  <mask id="mask0_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="6" y="3" width="72" height="60">
                    <path d="M6.68677 39.4662V9.47008C6.68677 6.36719 9.20215 3.85181 12.305 3.85181H71.7134C74.8163 3.85181 77.3317 6.3672 77.3317 9.47009V39.4796C77.3317 41.4543 76.295 43.2841 74.6011 44.299L45.0304 62.017C43.2589 63.0784 41.0479 63.0824 39.2726 62.0274L9.43487 44.296C7.73105 43.2835 6.68677 41.4481 6.68677 39.4662Z" fill="#F79219" />
                  </mask>
                  <g mask="url(#mask0_2082_1335)">
                    <path d="M43.3178 58.2163L6.54176 36.8484C1.96075 42.9564 13.2836 55.2731 26.7468 59.8153C41.4788 64.7855 59.0603 61.7049 68.1744 61.7049C85.6176 61.7049 83.5825 16.3526 83.0011 8.93929C82.5398 3.05759 77.656 4.55307 72.9436 5.99605L72.8259 6.03209V39.9009L43.3178 58.2163Z" fill="black" />
                  </g>
                </g>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.634 0.217529C1.627 0.217529 0 1.84453 0 3.85153C0 5.85853 1.62699 7.48552 3.63399 7.48552H80.384C82.391 7.48552 84.018 5.85853 84.018 3.85153C84.018 1.84453 82.391 0.217529 80.384 0.217529H3.634ZM24.566 56.3267C22.559 56.3267 20.932 57.9537 20.932 59.9607C20.932 61.9677 22.559 63.5947 24.566 63.5947H59.4524C61.4594 63.5947 63.0864 61.9677 63.0864 59.9607C63.0864 57.9537 61.4594 56.3267 59.4524 56.3267H24.566Z" fill="#939598" />
                <path className={"ranking-panel__rank-color--" + topRanks[1].rankId} d="M39.2001 61.437C40.9384 60.4334 43.08 60.4334 44.8183 61.437L74.5739 78.6164C76.3122 79.62 77.383 81.4747 77.383 83.482V117.841C77.383 119.848 76.3122 121.703 74.5739 122.706L44.8184 139.886C43.0801 140.889 40.9384 140.889 39.2001 139.886L9.44457 122.706C7.70627 121.703 6.63543 119.848 6.63543 117.841V83.482C6.63543 81.4748 7.70627 79.62 9.44457 78.6164L39.2001 61.437Z" fill={rank2} />
                <mask id="mask1_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="6" y="60" width="72" height="81">
                  <path d="M39.2001 61.437C40.9384 60.4334 43.08 60.4334 44.8183 61.437L74.5739 78.6164C76.3122 79.62 77.383 81.4747 77.383 83.482V117.841C77.383 119.848 76.3122 121.703 74.5739 122.706L44.8184 139.886C43.0801 140.889 40.9384 140.889 39.2001 139.886L9.44457 122.706C7.70627 121.703 6.63543 119.848 6.63543 117.841V83.482C6.63543 81.4748 7.70627 79.62 9.44457 78.6164L39.2001 61.437Z" fill="#FFC91D" />
                </mask>
                <g mask="url(#mask1_2082_1335)">
                  <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                    <path d="M39.4625 134.647L20.7091 129.579C20.3767 129.489 20.0294 129.469 19.6887 129.519C17.0735 129.902 16.747 133.545 19.2525 134.387L40.2266 141.44C41.7318 141.946 43.3809 141.791 44.7659 141.014L75.4796 123.785C77.2519 122.79 78.3492 120.917 78.3492 118.885V81.9061C78.3492 80.3338 77.6904 78.8335 76.5328 77.7696L63.0931 65.4169C61.3676 63.831 58.5802 65.0549 58.5802 67.3985C58.5802 68.0395 58.809 68.6594 59.2254 69.1468L70.0252 81.7875C70.8944 82.8048 71.3719 84.0989 71.3719 85.437V114.864C71.3719 116.87 70.3028 118.723 68.5667 119.727L43.7414 134.087C42.4466 134.836 40.9065 135.038 39.4625 134.647Z" fill="black" fill-opacity="0.8" />
                  </g>
                </g>
                <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                  <path d="M39.2001 71.3216C40.9384 70.318 43.0801 70.318 44.8184 71.3216L66.0137 83.5587C67.752 84.5623 68.8228 86.417 68.8228 88.4242V112.898C68.8228 114.906 67.752 116.76 66.0137 117.764L44.8184 130.001C43.0801 131.005 40.9384 131.005 39.2001 130.001L18.0048 117.764C16.2665 116.76 15.1957 114.906 15.1957 112.898V88.4242C15.1957 86.417 16.2665 84.5623 18.0048 83.5587L39.2001 71.3216Z" fill="black" />
                </g>
                <mask id="mask2_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="15" y="70" width="54" height="61">
                  <path d="M39.2001 71.3216C40.9384 70.318 43.0801 70.318 44.8184 71.3216L66.0137 83.5587C67.752 84.5623 68.8228 86.417 68.8228 88.4242V112.898C68.8228 114.906 67.752 116.76 66.0137 117.764L44.8184 130.001C43.0801 131.005 40.9384 131.005 39.2001 130.001L18.0048 117.764C16.2665 116.76 15.1957 114.906 15.1957 112.898V88.4242C15.1957 86.417 16.2665 84.5623 18.0048 83.5587L39.2001 71.3216Z" fill="#FFC91D" />
                </mask>
                <g mask="url(#mask2_2082_1335)">
                  <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                    <path d="M39.533 126.275L25.8638 122.581C25.6118 122.513 25.3486 122.497 25.0903 122.535C23.1079 122.826 22.8605 125.587 24.7596 126.225L40.086 131.379C41.5913 131.885 43.2404 131.73 44.6254 130.953L66.6858 118.578C68.4581 117.584 69.5553 115.71 69.5553 113.678V87.0413C69.5553 85.469 68.8965 83.9687 67.739 82.9048L57.9911 73.9453C56.6832 72.7432 54.5703 73.671 54.5703 75.4474C54.5703 75.9333 54.7438 76.4032 55.0594 76.7727L62.9198 85.9729C63.789 86.9903 64.2665 88.2844 64.2665 89.6224V110.642C64.2665 112.648 63.1974 114.502 61.4613 115.506L43.8119 125.715C42.5171 126.464 40.977 126.665 39.533 126.275Z" fill="black" fill-opacity="0.8" />
                  </g>
                </g>
              </svg>
            </div>
            <h1 className="ranking-panel__course-letter">{topRanks[1].course.charAt(0)}</h1>
          </div>
          <h3 className="ranking-panel__course-name">{topRanks[1].course}</h3>
          <div className="ranking-panel__rank-name">{topRanks[1].rank}</div>
          <div className="ranking-panel__rank-points">{topRanks[1].points + " Puntos"}</div>
        </div>
        <div className="ranking-panel__rank ranking-panel__rank--middle">
          <div className="ranking-panel__rank-icon ranking-panel__rank-icon--middle">
            <div className="ranking-panel__rank-medal-container">
              <svg width="85" height="142" viewBox="0 0 85 142" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path className={"ranking-panel__rank-color--" + topRanks[0].rankId} d="M6.68677 39.4662V9.47008C6.68677 6.36719 9.20215 3.85181 12.305 3.85181H71.7134C74.8163 3.85181 77.3317 6.3672 77.3317 9.47009V39.4796C77.3317 41.4543 76.295 43.2841 74.6011 44.299L45.0304 62.017C43.2589 63.0784 41.0479 63.0824 39.2726 62.0274L9.43487 44.296C7.73105 43.2835 6.68677 41.4481 6.68677 39.4662Z" fill={rank1} />
                <rect x="29.9443" y="5.74146" width="24.1297" height="52.6203" fill="#F1F2F2" />
                <g style={{ mixBlendMode: "soft-light" }} opacity="0.8">
                  <mask id="mask0_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="6" y="3" width="72" height="60">
                    <path d="M6.68677 39.4662V9.47008C6.68677 6.36719 9.20215 3.85181 12.305 3.85181H71.7134C74.8163 3.85181 77.3317 6.3672 77.3317 9.47009V39.4796C77.3317 41.4543 76.295 43.2841 74.6011 44.299L45.0304 62.017C43.2589 63.0784 41.0479 63.0824 39.2726 62.0274L9.43487 44.296C7.73105 43.2835 6.68677 41.4481 6.68677 39.4662Z" fill="#F79219" />
                  </mask>
                  <g mask="url(#mask0_2082_1335)">
                    <path d="M43.3178 58.2163L6.54176 36.8484C1.96075 42.9564 13.2836 55.2731 26.7468 59.8153C41.4788 64.7855 59.0603 61.7049 68.1744 61.7049C85.6176 61.7049 83.5825 16.3526 83.0011 8.93929C82.5398 3.05759 77.656 4.55307 72.9436 5.99605L72.8259 6.03209V39.9009L43.3178 58.2163Z" fill="black" />
                  </g>
                </g>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.634 0.217529C1.627 0.217529 0 1.84453 0 3.85153C0 5.85853 1.62699 7.48552 3.63399 7.48552H80.384C82.391 7.48552 84.018 5.85853 84.018 3.85153C84.018 1.84453 82.391 0.217529 80.384 0.217529H3.634ZM24.566 56.3267C22.559 56.3267 20.932 57.9537 20.932 59.9607C20.932 61.9677 22.559 63.5947 24.566 63.5947H59.4524C61.4594 63.5947 63.0864 61.9677 63.0864 59.9607C63.0864 57.9537 61.4594 56.3267 59.4524 56.3267H24.566Z" fill="#939598" />
                <path className={"ranking-panel__rank-color--" + topRanks[0].rankId} d="M39.2001 61.437C40.9384 60.4334 43.08 60.4334 44.8183 61.437L74.5739 78.6164C76.3122 79.62 77.383 81.4747 77.383 83.482V117.841C77.383 119.848 76.3122 121.703 74.5739 122.706L44.8184 139.886C43.0801 140.889 40.9384 140.889 39.2001 139.886L9.44457 122.706C7.70627 121.703 6.63543 119.848 6.63543 117.841V83.482C6.63543 81.4748 7.70627 79.62 9.44457 78.6164L39.2001 61.437Z" fill={rank1} />
                <mask id="mask1_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="6" y="60" width="72" height="81">
                  <path d="M39.2001 61.437C40.9384 60.4334 43.08 60.4334 44.8183 61.437L74.5739 78.6164C76.3122 79.62 77.383 81.4747 77.383 83.482V117.841C77.383 119.848 76.3122 121.703 74.5739 122.706L44.8184 139.886C43.0801 140.889 40.9384 140.889 39.2001 139.886L9.44457 122.706C7.70627 121.703 6.63543 119.848 6.63543 117.841V83.482C6.63543 81.4748 7.70627 79.62 9.44457 78.6164L39.2001 61.437Z" fill="#FFC91D" />
                </mask>
                <g mask="url(#mask1_2082_1335)">
                  <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                    <path d="M39.4625 134.647L20.7091 129.579C20.3767 129.489 20.0294 129.469 19.6887 129.519C17.0735 129.902 16.747 133.545 19.2525 134.387L40.2266 141.44C41.7318 141.946 43.3809 141.791 44.7659 141.014L75.4796 123.785C77.2519 122.79 78.3492 120.917 78.3492 118.885V81.9061C78.3492 80.3338 77.6904 78.8335 76.5328 77.7696L63.0931 65.4169C61.3676 63.831 58.5802 65.0549 58.5802 67.3985C58.5802 68.0395 58.809 68.6594 59.2254 69.1468L70.0252 81.7875C70.8944 82.8048 71.3719 84.0989 71.3719 85.437V114.864C71.3719 116.87 70.3028 118.723 68.5667 119.727L43.7414 134.087C42.4466 134.836 40.9065 135.038 39.4625 134.647Z" fill="black" fill-opacity="0.8" />
                  </g>
                </g>
                <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                  <path d="M39.2001 71.3216C40.9384 70.318 43.0801 70.318 44.8184 71.3216L66.0137 83.5587C67.752 84.5623 68.8228 86.417 68.8228 88.4242V112.898C68.8228 114.906 67.752 116.76 66.0137 117.764L44.8184 130.001C43.0801 131.005 40.9384 131.005 39.2001 130.001L18.0048 117.764C16.2665 116.76 15.1957 114.906 15.1957 112.898V88.4242C15.1957 86.417 16.2665 84.5623 18.0048 83.5587L39.2001 71.3216Z" fill="black" />
                </g>
                <mask id="mask2_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="15" y="70" width="54" height="61">
                  <path d="M39.2001 71.3216C40.9384 70.318 43.0801 70.318 44.8184 71.3216L66.0137 83.5587C67.752 84.5623 68.8228 86.417 68.8228 88.4242V112.898C68.8228 114.906 67.752 116.76 66.0137 117.764L44.8184 130.001C43.0801 131.005 40.9384 131.005 39.2001 130.001L18.0048 117.764C16.2665 116.76 15.1957 114.906 15.1957 112.898V88.4242C15.1957 86.417 16.2665 84.5623 18.0048 83.5587L39.2001 71.3216Z" fill="#FFC91D" />
                </mask>
                <g mask="url(#mask2_2082_1335)">
                  <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                    <path d="M39.533 126.275L25.8638 122.581C25.6118 122.513 25.3486 122.497 25.0903 122.535C23.1079 122.826 22.8605 125.587 24.7596 126.225L40.086 131.379C41.5913 131.885 43.2404 131.73 44.6254 130.953L66.6858 118.578C68.4581 117.584 69.5553 115.71 69.5553 113.678V87.0413C69.5553 85.469 68.8965 83.9687 67.739 82.9048L57.9911 73.9453C56.6832 72.7432 54.5703 73.671 54.5703 75.4474C54.5703 75.9333 54.7438 76.4032 55.0594 76.7727L62.9198 85.9729C63.789 86.9903 64.2665 88.2844 64.2665 89.6224V110.642C64.2665 112.648 63.1974 114.502 61.4613 115.506L43.8119 125.715C42.5171 126.464 40.977 126.665 39.533 126.275Z" fill="black" fill-opacity="0.8" />
                  </g>
                </g>
              </svg>
            </div>
            <h1 className="ranking-panel__course-letter ranking-panel__course-letter--middle">{topRanks[0].course.charAt(0)}</h1>
          </div>
          <h3 className="ranking-panel__course-name">{topRanks[0].course}</h3>
          <div className="ranking-panel__rank-name">{topRanks[0].rank}</div>
          <div className="ranking-panel__rank-points">{topRanks[0].points + " Puntos"}</div>
        </div>
        <div className="ranking-panel__rank">
          <div className="ranking-panel__rank-icon">
            <div className="ranking-panel__rank-medal-container">
              <svg width="85" height="142" viewBox="0 0 85 142" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path className={"ranking-panel__rank-color--" + topRanks[2].rankId} d="M6.68677 39.4662V9.47008C6.68677 6.36719 9.20215 3.85181 12.305 3.85181H71.7134C74.8163 3.85181 77.3317 6.3672 77.3317 9.47009V39.4796C77.3317 41.4543 76.295 43.2841 74.6011 44.299L45.0304 62.017C43.2589 63.0784 41.0479 63.0824 39.2726 62.0274L9.43487 44.296C7.73105 43.2835 6.68677 41.4481 6.68677 39.4662Z" fill={rank3} />
                <rect x="29.9443" y="5.74146" width="24.1297" height="52.6203" fill="#F1F2F2" />
                <g style={{ mixBlendMode: "soft-light" }} opacity="0.8">
                  <mask id="mask0_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="6" y="3" width="72" height="60">
                    <path d="M6.68677 39.4662V9.47008C6.68677 6.36719 9.20215 3.85181 12.305 3.85181H71.7134C74.8163 3.85181 77.3317 6.3672 77.3317 9.47009V39.4796C77.3317 41.4543 76.295 43.2841 74.6011 44.299L45.0304 62.017C43.2589 63.0784 41.0479 63.0824 39.2726 62.0274L9.43487 44.296C7.73105 43.2835 6.68677 41.4481 6.68677 39.4662Z" fill="#F79219" />
                  </mask>
                  <g mask="url(#mask0_2082_1335)">
                    <path d="M43.3178 58.2163L6.54176 36.8484C1.96075 42.9564 13.2836 55.2731 26.7468 59.8153C41.4788 64.7855 59.0603 61.7049 68.1744 61.7049C85.6176 61.7049 83.5825 16.3526 83.0011 8.93929C82.5398 3.05759 77.656 4.55307 72.9436 5.99605L72.8259 6.03209V39.9009L43.3178 58.2163Z" fill="black" />
                  </g>
                </g>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.634 0.217529C1.627 0.217529 0 1.84453 0 3.85153C0 5.85853 1.62699 7.48552 3.63399 7.48552H80.384C82.391 7.48552 84.018 5.85853 84.018 3.85153C84.018 1.84453 82.391 0.217529 80.384 0.217529H3.634ZM24.566 56.3267C22.559 56.3267 20.932 57.9537 20.932 59.9607C20.932 61.9677 22.559 63.5947 24.566 63.5947H59.4524C61.4594 63.5947 63.0864 61.9677 63.0864 59.9607C63.0864 57.9537 61.4594 56.3267 59.4524 56.3267H24.566Z" fill="#939598" />
                <path className={"ranking-panel__rank-color--" + topRanks[2].rankId} d="M39.2001 61.437C40.9384 60.4334 43.08 60.4334 44.8183 61.437L74.5739 78.6164C76.3122 79.62 77.383 81.4747 77.383 83.482V117.841C77.383 119.848 76.3122 121.703 74.5739 122.706L44.8184 139.886C43.0801 140.889 40.9384 140.889 39.2001 139.886L9.44457 122.706C7.70627 121.703 6.63543 119.848 6.63543 117.841V83.482C6.63543 81.4748 7.70627 79.62 9.44457 78.6164L39.2001 61.437Z" fill={rank3} />
                <mask id="mask1_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="6" y="60" width="72" height="81">
                  <path d="M39.2001 61.437C40.9384 60.4334 43.08 60.4334 44.8183 61.437L74.5739 78.6164C76.3122 79.62 77.383 81.4747 77.383 83.482V117.841C77.383 119.848 76.3122 121.703 74.5739 122.706L44.8184 139.886C43.0801 140.889 40.9384 140.889 39.2001 139.886L9.44457 122.706C7.70627 121.703 6.63543 119.848 6.63543 117.841V83.482C6.63543 81.4748 7.70627 79.62 9.44457 78.6164L39.2001 61.437Z" fill="#FFC91D" />
                </mask>
                <g mask="url(#mask1_2082_1335)">
                  <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                    <path d="M39.4625 134.647L20.7091 129.579C20.3767 129.489 20.0294 129.469 19.6887 129.519C17.0735 129.902 16.747 133.545 19.2525 134.387L40.2266 141.44C41.7318 141.946 43.3809 141.791 44.7659 141.014L75.4796 123.785C77.2519 122.79 78.3492 120.917 78.3492 118.885V81.9061C78.3492 80.3338 77.6904 78.8335 76.5328 77.7696L63.0931 65.4169C61.3676 63.831 58.5802 65.0549 58.5802 67.3985C58.5802 68.0395 58.809 68.6594 59.2254 69.1468L70.0252 81.7875C70.8944 82.8048 71.3719 84.0989 71.3719 85.437V114.864C71.3719 116.87 70.3028 118.723 68.5667 119.727L43.7414 134.087C42.4466 134.836 40.9065 135.038 39.4625 134.647Z" fill="black" fill-opacity="0.8" />
                  </g>
                </g>
                <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                  <path d="M39.2001 71.3216C40.9384 70.318 43.0801 70.318 44.8184 71.3216L66.0137 83.5587C67.752 84.5623 68.8228 86.417 68.8228 88.4242V112.898C68.8228 114.906 67.752 116.76 66.0137 117.764L44.8184 130.001C43.0801 131.005 40.9384 131.005 39.2001 130.001L18.0048 117.764C16.2665 116.76 15.1957 114.906 15.1957 112.898V88.4242C15.1957 86.417 16.2665 84.5623 18.0048 83.5587L39.2001 71.3216Z" fill="black" />
                </g>
                <mask id="mask2_2082_1335" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="15" y="70" width="54" height="61">
                  <path d="M39.2001 71.3216C40.9384 70.318 43.0801 70.318 44.8184 71.3216L66.0137 83.5587C67.752 84.5623 68.8228 86.417 68.8228 88.4242V112.898C68.8228 114.906 67.752 116.76 66.0137 117.764L44.8184 130.001C43.0801 131.005 40.9384 131.005 39.2001 130.001L18.0048 117.764C16.2665 116.76 15.1957 114.906 15.1957 112.898V88.4242C15.1957 86.417 16.2665 84.5623 18.0048 83.5587L39.2001 71.3216Z" fill="#FFC91D" />
                </mask>
                <g mask="url(#mask2_2082_1335)">
                  <g style={{ mixBlendMode: "soft-light" }} opacity="0.5">
                    <path d="M39.533 126.275L25.8638 122.581C25.6118 122.513 25.3486 122.497 25.0903 122.535C23.1079 122.826 22.8605 125.587 24.7596 126.225L40.086 131.379C41.5913 131.885 43.2404 131.73 44.6254 130.953L66.6858 118.578C68.4581 117.584 69.5553 115.71 69.5553 113.678V87.0413C69.5553 85.469 68.8965 83.9687 67.739 82.9048L57.9911 73.9453C56.6832 72.7432 54.5703 73.671 54.5703 75.4474C54.5703 75.9333 54.7438 76.4032 55.0594 76.7727L62.9198 85.9729C63.789 86.9903 64.2665 88.2844 64.2665 89.6224V110.642C64.2665 112.648 63.1974 114.502 61.4613 115.506L43.8119 125.715C42.5171 126.464 40.977 126.665 39.533 126.275Z" fill="black" fill-opacity="0.8" />
                  </g>
                </g>
              </svg>
            </div>
            <h1 className="ranking-panel__course-letter">{topRanks[2].course.charAt(0)}</h1>
          </div>
          <h3 className="ranking-panel__course-name">{topRanks[2].course}</h3>
          <div className="ranking-panel__rank-name">{topRanks[2].rank}</div>
          <div className="ranking-panel__rank-points">{topRanks[2].points + " Puntos"}</div>
        </div>
      </div>
    </div>
  );

}